<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"><head><title>Kcas_data (kcas_data.Kcas_data)</title><link rel="stylesheet" href="../../odoc.support/odoc.css"/><meta charset="utf-8"/><meta name="generator" content="odoc 2.2.0"/><meta name="viewport" content="width=device-width,initial-scale=1.0"/><script src="../../odoc.support/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></head><body class="odoc"><nav class="odoc-nav"><a href="../index.html">Up</a> – <a href="../index.html">kcas_data</a> &#x00BB; Kcas_data</nav><header class="odoc-preamble"><h1>Module <code><span>Kcas_data</span></code></h1><p>This package provides a collection of compositional lock-free data structures with in-place modification.</p><p>All data structure implementations in this library should strive to provide the following guarantees:</p><ul><li>Provided operations are <i>strictly serializable</i> (i.e. both <a href="https://en.wikipedia.org/wiki/Linearizability">linerizable</a> and <a href="https://en.wikipedia.org/wiki/Serializability">serializable</a>).</li><li>Provided operations are efficient, either (<a href="https://en.wikipedia.org/wiki/Amortized_analysis">amortized</a>) constant time, <code>O(1)</code>, or logarithmic time, <code>O(log(n))</code>.</li><li>Provided operations are <a href="https://en.wikipedia.org/wiki/Non-blocking_algorithm#Lock-freedom">lock-free</a> and designed to avoid <a href="https://en.wikipedia.org/wiki/Starvation_(computer_science)">starvation</a> under moderate contention.</li><li>Provided read-only operations scale perfectly when only read-only operations are performed in parallel.</li></ul><p>Unobvious exceptions to the above guarantees should be clearly and explicitly documented.</p><p>The main feature of these data structure implementations is their compositionality. For example, one can easily compose a transaction to atomically transfer a value from a <a href="Queue/index.html"><code>Queue</code></a> to a <a href="Stack/index.html"><code>Stack</code></a>:</p><pre class="language-ocaml"><code>let tx ~xt =
  match Queue.Xt.take_opt ~xt queue with
  | None -&gt; ()
  | Some value -&gt;
    Stack.Xt.push ~xt stack value
in
Xt.commit { tx }</code></pre><p>If your application does not need compositionality, then other domain safe data structure libraries may potentially offer better performance.</p></header><nav class="odoc-toc"><ul><li><a href="#stdlib-style-data-structures"><code>Stdlib</code> style data structures</a></li><li><a href="#communication-and-synchronization-primitives">Communication and synchronization primitives</a></li><li><a href="#linked-data-structures">Linked data structures</a></li><li><a href="#utilities">Utilities</a></li></ul></nav><div class="odoc-content"><h2 id="stdlib-style-data-structures"><a href="#stdlib-style-data-structures" class="anchor"></a><code>Stdlib</code> style data structures</h2><p>The data structures in this section are designed to closely mimic the corresponding unsynchronized data structures in the OCaml <code>Stdlib</code>. Each of these provide a non-compositional, but domain safe, interface that is close to the <code>Stdlib</code> equivalent. Additionally, compositional transactional interfaces are provided for some operations.</p><p>These implementations will use more space than the corresponding <code>Stdlib</code> data structures. Performance, when accessed concurrently, should be competitive or superior compared to naïve locking.</p><div class="odoc-spec"><div class="spec module anchored" id="module-Hashtbl"><a href="#module-Hashtbl" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Hashtbl/index.html">Hashtbl</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Hash table.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Queue"><a href="#module-Queue" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Queue/index.html">Queue</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>First-In First-Out (FIFO) queue.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Stack"><a href="#module-Stack" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Stack/index.html">Stack</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Last-In First-Out (LIFO) stack.</p></div></div><h2 id="communication-and-synchronization-primitives"><a href="#communication-and-synchronization-primitives" class="anchor"></a>Communication and synchronization primitives</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Mvar"><a href="#module-Mvar" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Mvar/index.html">Mvar</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Synchronizing variable.</p></div></div><div class="odoc-spec"><div class="spec module anchored" id="module-Promise"><a href="#module-Promise" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Promise/index.html">Promise</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>A promise of a value to be resolved at some point in the future.</p></div></div><h2 id="linked-data-structures"><a href="#linked-data-structures" class="anchor"></a>Linked data structures</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Dllist"><a href="#module-Dllist" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Dllist/index.html">Dllist</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Doubly-linked list.</p></div></div><h2 id="utilities"><a href="#utilities" class="anchor"></a>Utilities</h2><div class="odoc-spec"><div class="spec module anchored" id="module-Accumulator"><a href="#module-Accumulator" class="anchor"></a><code><span><span class="keyword">module</span> <a href="Accumulator/index.html">Accumulator</a></span><span> : <span class="keyword">sig</span> ... <span class="keyword">end</span></span></code></div><div class="spec-doc"><p>Scalable accumulator.</p></div></div></div></body></html>